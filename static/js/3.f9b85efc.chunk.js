(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[3],{288:function(e,t,s){"use strict";s.d(t,"a",(function(){return j}));var r=s(5),n=s(94),i=(s(0),s(10)),o=s(14),c=s(1),a=function(e){return{isAuth:e.auth.isAuth}};function j(e){return Object(o.b)(a)((function(t){var s=t.isAuth,o=Object(n.a)(t,["isAuth"]);return s?Object(c.jsx)(e,Object(r.a)({},o)):Object(c.jsx)(i.a,{to:"/login"})}))}},289:function(e,t,s){e.exports={description:"Description_description__2EoJ-",descriptionText:"Description_descriptionText__3V31Z",contact:"Description_contact__-Hddk"}},290:function(e,t,s){e.exports={posts:"Posts_posts__167O5"}},291:function(e,t,s){e.exports={post:"Post_post__1Akat"}},292:function(e,t,s){"use strict";s.r(t),s.d(t,"ProfileUserContainer",(function(){return V}));var r=s(35),n=s(36),i=s(39),o=s(38),c=s(0),a=s.n(c),j=s(92),u=s(93),l=s(289),d=s.n(l),p=s(40),b=s(116),f=s(1),h=function(e){var t=Object(c.useState)(!1),s=Object(u.a)(t,2),r=s[0],n=s[1],i=Object(c.useState)(e.status),o=Object(u.a)(i,2),a=o[0],j=o[1];Object(c.useEffect)((function(){j(e.status)}),[e.status]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{children:[!r&&Object(f.jsx)("div",{children:Object(f.jsx)("span",{onDoubleClick:function(){n(!0)},children:a||"----"})}),r&&Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",onChange:function(e){j(e.currentTarget.value)},autoFocus:!0,value:a,onBlur:function(){n(!1),e.updateStatus(a)}})})]})})},O=s(127),x=s(128),m=s(91),v=s(67),P=s(47),g=s.n(P),U=Object(m.a)("input"),k=Object(m.a)("textarea"),S=Object(x.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.error,r=e.profile;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("div",{children:Object(f.jsx)(O.a,{placeholder:"Name",name:"fullName",validate:[v.b],component:U})}),Object(f.jsx)("div",{children:Object(f.jsx)(O.a,{placeholder:"About me",name:"aboutMe",component:k})}),Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{type:"checkbox",name:"lookingForAJob",component:"input"})," Looking for a job"]}),Object(f.jsx)("div",{children:Object(f.jsx)(O.a,{placeholder:"My professional skills",name:"lookingForAJobDescription",component:k})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts: "})," ",Object.keys(r.contacts).map((function(e){return Object(f.jsxs)("div",{className:d.a.contact,children:[Object(f.jsxs)("b",{children:[e,": "]}),Object(f.jsx)(O.a,{placeholder:e,name:"contacts."+e,component:U})]})}))]}),s&&Object(f.jsx)("div",{className:g.a.formSummaryError,children:s}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Save"})})]})}));function y(e){var t,s=Object(c.useState)(!1),r=Object(u.a)(s,2),n=r[0],i=r[1];if(!e.profileUser)return Object(f.jsx)(p.a,{});return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:d.a.description}),Object(f.jsxs)("div",{className:d.a.descriptionText,children:[Object(f.jsx)("h2",{children:e.profileUser.fullName}),Object(f.jsx)("img",{src:(null===(t=e.profileUser.photos)||void 0===t?void 0:t.large)||b.a,alt:"ava"}),e.isOwner&&Object(f.jsx)("input",{type:"file",onChange:function(t){var s;(null===(s=t.target.files)||void 0===s?void 0:s.length)&&e.savePhoto(t.target.files[0])}}),Object(f.jsx)(h,{status:e.status,updateStatus:e.updateStatus}),n?Object(f.jsx)(S,{initialValues:e.profileUser,profile:e.profileUser,onSubmit:function(t){console.log(t),e.saveProfile(t),i(!1)}}):Object(f.jsx)(_,{profileUser:e.profileUser,isOwner:e.isOwner,setEditMode:i})]})]})}var A=function(e){return Object(f.jsxs)("div",{className:d.a.contact,children:[Object(f.jsxs)("b",{children:[e.contactKey,": "]}),e.contactInfo]})},_=function(e){return Object(f.jsxs)(f.Fragment,{children:[e.isOwner&&Object(f.jsx)("button",{onClick:function(){return e.setEditMode(!0)},children:"Edit"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me: "}),e.profileUser.aboutMe]}),e.profileUser.contacts&&Object(f.jsx)("div",{children:Object.keys(e.profileUser.contacts).map((function(t){return Object(f.jsx)(A,{contactKey:t,contactInfo:e.profileUser.contacts[t]},t)}))}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:Object(f.jsx)("b",{children:"Looking for a job: "})}),Object(f.jsx)("input",{type:"checkbox",checked:e.profileUser.lookingForAJob,disabled:!0}),Object(f.jsx)("div",{children:e.profileUser.lookingForAJobDescription})]})]})},N=s(290),w=s.n(N),C=s(291),D=s.n(C),F=function(e){return Object(f.jsxs)("div",{className:D.a.post,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRPSP8oOxLZy-bSFwd2sDoNmAEB4MNILAKPHA&usqp=CAU",alt:"ava"}),e.title]}),Object(f.jsxs)("span",{children:[e.likesCount," likes"]})]})},I=a.a.memo((function(e){var t=e.posts.map((function(e){return Object(f.jsx)(F,{title:e.title,likesCount:e.likesCount},e.id)}));return Object(f.jsxs)("div",{className:w.a.posts,children:[Object(f.jsx)(M,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(f.jsx)("div",{children:t})]})})),E=Object(m.a)("textarea"),J=Object(v.a)(20),M=Object(x.a)({form:"addPostForm"})((function(e){return Object(f.jsx)("form",{onSubmit:e.handleSubmit,children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)(O.a,{component:E,name:"newPostText",validate:[v.b,J],placeholder:"Enter post"})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Add"})})]})})})),T=s(14),L=Object(T.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(j.a)(t))}}}))(I),K=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(y,{profileUser:e.profileUser,status:e.status,updateStatus:e.updateStatus,savePhoto:e.setProfilePhoto,saveProfile:e.saveProfile,isOwner:e.isOwner}),Object(f.jsx)(L,{})]})},q=s(10),z=s(288),B=s(9),H=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId.toString())||this.props.history.push("/login"),this.props.getProfileUser(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(K,{profileUser:this.props.profileUser,status:this.props.status,updateStatus:this.props.updateUserStatus,setProfilePhoto:this.props.setProfilePhoto,saveProfile:this.props.setProfile,isOwner:!this.props.match.params.userId})}}]),s}(a.a.Component),V=Object(B.d)(Object(T.b)((function(e){return{profileUser:e.profilePage.profileUser,status:e.profilePage.status,authorizedUserId:e.auth.data.id,isAuth:e.auth.isAuth}}),{getProfileUser:j.b,getUserStatus:j.c,updateUserStatus:j.g,setProfilePhoto:j.f,setProfile:j.e}),q.f,z.a)(H)}}]);
//# sourceMappingURL=3.f9b85efc.chunk.js.map