(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[3],{288:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));var r=s(5),n=s(94),i=(s(0),s(10)),o=s(14),c=s(1),a=function(t){return{isAuth:t.auth.isAuth}};function u(t){return Object(o.b)(a)((function(e){var s=e.isAuth,o=Object(n.a)(e,["isAuth"]);return s?Object(c.jsx)(t,Object(r.a)({},o)):Object(c.jsx)(i.a,{to:"/login"})}))}},289:function(t,e,s){t.exports={description:"Description_description__2EoJ-",descriptionText:"Description_descriptionText__3V31Z",contact:"Description_contact__-Hddk"}},290:function(t,e,s){t.exports={posts:"Posts_posts__167O5"}},291:function(t,e,s){t.exports={post:"Post_post__1Akat"}},292:function(t,e,s){"use strict";s.r(e),s.d(e,"ProfileUserContainer",(function(){return L}));var r=s(34),n=s(35),i=s(38),o=s(37),c=s(0),a=s.n(c),u=s(91),j=s(93),p=s(289),d=s.n(p),l=s(39),b=s(116),f=s(1),h=function(t){var e=Object(c.useState)(!1),s=Object(j.a)(e,2),r=s[0],n=s[1],i=Object(c.useState)(t.status),o=Object(j.a)(i,2),a=o[0],u=o[1];Object(c.useEffect)((function(){u(t.status)}),[t.status]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{children:[!r&&Object(f.jsx)("div",{children:Object(f.jsx)("span",{onDoubleClick:function(){n(!0)},children:a||"----"})}),r&&Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,value:a,onBlur:function(){n(!1),t.updateStatus(a)}})})]})})};function O(t){var e,s=Object(c.useState)(!1),r=Object(j.a)(s,2),n=r[0],i=r[1];if(!t.profileUser)return Object(f.jsx)(l.a,{});return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:d.a.description}),Object(f.jsxs)("div",{className:d.a.descriptionText,children:[Object(f.jsx)("h2",{children:t.profileUser.fullName}),Object(f.jsx)("img",{src:(null===(e=t.profileUser.photos)||void 0===e?void 0:e.large)||b.a,alt:"ava"}),t.isOwner&&Object(f.jsx)("input",{type:"file",onChange:function(e){var s;(null===(s=e.target.files)||void 0===s?void 0:s.length)&&t.savePhoto(e.target.files[0])}}),Object(f.jsx)(h,{status:t.status,updateStatus:t.updateStatus}),!n&&Object(f.jsx)(v,{profileUser:t.profileUser,isOwner:t.isOwner,setEditMode:i})]})]})}var x=function(t){return Object(f.jsxs)("div",{className:d.a.contact,children:[Object(f.jsxs)("b",{children:[t.contactKey,": "]}),t.contactInfo]})},v=function(t){return Object(f.jsxs)(f.Fragment,{children:[t.isOwner&&Object(f.jsx)("button",{onClick:function(){return t.setEditMode(!0)},children:"Edit"}),Object(f.jsx)("div",{children:t.profileUser.aboutMe}),t.profileUser.contacts&&Object(f.jsx)("div",{children:Object.keys(t.profileUser.contacts).map((function(e){return Object(f.jsx)(x,{contactKey:e,contactInfo:t.profileUser.contacts[e]},e)}))}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"Looking for a job: "}),Object(f.jsx)("input",{type:"checkbox",checked:t.profileUser.lookingForAJob,disabled:!0}),Object(f.jsx)("span",{children:t.profileUser.lookingForAJobDescription})]})]})},m=s(290),P=s.n(m),U=s(291),g=s.n(U),k=function(t){return Object(f.jsxs)("div",{className:g.a.post,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRPSP8oOxLZy-bSFwd2sDoNmAEB4MNILAKPHA&usqp=CAU",alt:"ava"}),t.title]}),Object(f.jsxs)("span",{children:[t.likesCount," likes"]})]})},S=s(127),y=s(128),A=s(81),_=s(92),w=a.a.memo((function(t){var e=t.posts.map((function(t){return Object(f.jsx)(k,{title:t.title,likesCount:t.likesCount})}));return Object(f.jsxs)("div",{className:P.a.posts,children:[Object(f.jsx)(N,{onSubmit:function(e){t.addPost(e.newPostText)}}),Object(f.jsx)("div",{children:e})]})})),C=Object(_.a)("textarea"),I=Object(A.a)(20),N=Object(y.a)({form:"addPostForm"})((function(t){return Object(f.jsx)("form",{onSubmit:t.handleSubmit,children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)(S.a,{component:C,name:"newPostText",validate:[A.b,I],placeholder:"Enter post"})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Add"})})]})})})),D=s(14),E=Object(D.b)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t(Object(u.a)(e))}}}))(w),F=function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(O,{profileUser:t.profileUser,status:t.status,updateStatus:t.updateStatus,savePhoto:t.setProfilePhoto,isOwner:t.isOwner}),Object(f.jsx)(E,{})]})},T=s(10),J=s(288),M=s(8),K=function(t){Object(i.a)(s,t);var e=Object(o.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId.toString())||this.props.history.push("/login"),this.props.getProfileUser(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(F,{profileUser:this.props.profileUser,status:this.props.status,updateStatus:this.props.updateUserStatus,setProfilePhoto:this.props.setProfilePhoto,isOwner:!this.props.match.params.userId})}}]),s}(a.a.Component),L=Object(M.d)(Object(D.b)((function(t){return{profileUser:t.profilePage.profileUser,status:t.profilePage.status,authorizedUserId:t.auth.data.id,isAuth:t.auth.isAuth}}),{getProfileUser:u.b,getUserStatus:u.c,updateUserStatus:u.f,setProfilePhoto:u.e}),T.f,J.a)(K)}}]);
//# sourceMappingURL=3.daec84c6.chunk.js.map